<app-menu [menu]="['规则模型','数据模型','查看字段']"></app-menu>
<div class="shadow mb20 white_bg padd20">
    <form nz-form [nzLayout]="'inline'" [formGroup]="findForm" (ngSubmit)="submitForm()" class='clearfix'>
        <div nz-row>
            <nz-form-item nz-col nzSpan="8" nz-row>
                <nz-form-label nz-col [nzSpan]="24" nzFor="name">模型名称</nz-form-label>
                <nz-form-control nz-col [nzSpan]="24">
                    <nz-input-group [nzPrefix]="prefixUser">
                        <input formControlName="name" nz-input placeholder="模型名称">
                    </nz-input-group>
                </nz-form-control>
            </nz-form-item>
            <nz-form-item nz-col nzSpan="8" style='margin-top:25px'>
                <nz-form-control>
                    <button nz-button nzType="primary" (click)='getTable()'>
                        <i class="anticon anticon-search"></i>查询
                    </button>
                </nz-form-control>
                <nz-form-control>
                    <button nz-button nzType="default" (click)='result()'>
                        <i class="anticon anticon-close"></i>重置
                    </button>
                </nz-form-control>
            </nz-form-item>
        </div>
    </form>
</div>
<ul class='navright' nz-menu [nzTheme]="'dark'" [nzMode]="'horizontal'">
    <!-- 选项卡切换 -->
    <li nz-menu-item *ngFor='let tab of tabs'>
        {{ tab.name }}
        <!-- <a [href]='list.appAddress'>{{list.appName}}</a> -->
    </li>
</ul>
<nz-card class="shadow mb20" [nzTitle]="cardtitle">
    <ng-template #cardtitle>
        标题
    </ng-template>
    <nz-table #rowSelectionTable [nzData]="data1" (nzCurrentPageDataChange)="currentPageDataChange($event)"
        (nzPageIndexChange)="refreshStatus()" (nzPageSizeChange)="refreshStatus()" [nzShowPagination]='false'>
        <thead>
            <tr>
                <th nzShowCheckbox [(nzChecked)]="allChecked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="checkAll($event)"></th>
                <th>Name</th>
                <th>Age</th>
                <th>Address</th>
                <th>input</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let data of rowSelectionTable.data">
                <td nzShowCheckbox [(nzChecked)]="data.checked" [nzDisabled]="data.disabled" (nzCheckedChange)="refreshStatus()"></td>
                <td>{{data.name}}</td>
                <td>{{data.age}}</td>
                <td>{{data.address}}</td>
                <td>
                    <input type="text" [(ngModel)]='data.value'>
                </td>
            </tr>
        </tbody>
    </nz-table>

</nz-card>
<button nz-button nzType="primary" (click)='openall()'>展开全部</button>
<button nz-button nzType="primary" (click)='upall()'>收起全部</button>
<button nz-button nzType="primary" (click)='update()'>更新</button>
<button nz-button nzType="primary" (click)='consol([data,expandDataCache])'>打印this</button>

<nz-table #nzTable [nzData]="data" [nzLoading]="loading" [nzShowPagination]='false'>
    <thead>
        <tr>
            <th>Name</th>
            <th>Age</th>
            <th>状态(有遮罩层)</th>
            <th>状态（无遮罩层）</th>
            <th>Address</th>
        </tr>
    </thead>
    <tbody>
        <ng-template ngFor let-data [ngForOf]="nzTable.data">
            <ng-template ngFor let-item [ngForOf]="expandDataCache[data.key]">
                <tr *ngIf="(item.parent&&item.parent.expand)||!(item.parent)">
                    <td [nzIndentSize]="item.level*20" [nzShowExpand]="!!item.children" [(nzExpand)]="item.expand"
                        (nzExpandChange)="collapse(expandDataCache[data.key],item,$event)">
                        {{item.name}}
                    </td>
                    <td>{{item.age}}</td>
                    <td>
                        <nz-switch [(ngModel)]="item.status" [nzControl]="true" [nzLoading]="item.loading" (click)='statuschange1(item)'></nz-switch>
                    </td>
                    <td>
                        <nz-switch [(ngModel)]="item.status" [nzControl]="true" [nzLoading]="item.loading" (click)='statuschange2(item)'></nz-switch>
                    </td>
                    <td>{{item.address}}</td>
                </tr>
            </ng-template>
        </ng-template>
    </tbody>
</nz-table>
<nz-pagination [nzPageIndex]="3" [nzTotal]="500" nzShowSizeChanger [nzPageSize]="10" nzShowQuickJumper></nz-pagination>