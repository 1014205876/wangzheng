<app-breadcrumbs [breadcrumbs]="breadcrumbs"></app-breadcrumbs>
<nz-card class="card" [nzTitle]="'基本信息'" *ngIf="orderInfo">
  <nz-table class="picture-table" [nzData]="[1,2]" nzBordered [nzShowPagination]="false" [nzFrontPagination]="false"
    [nzSize]="'small'">
    <tr>
      <td>订单号</td>
      <td>{{orderInfo.loanApply.no}}</td>
      <td>订单状态</td>
      <td>
        <span *ngIf="orderInfo.loanApply.status=='0'">处理中</span>
        <span *ngIf="orderInfo.loanApply.status=='1'">已终止</span>
        <span *ngIf="orderInfo.loanApply.status=='2'">处理完成</span>
      </td>
    </tr>
    <tr>
      <td>客户名称</td>
      <td>{{orderInfo.loanApply.etpName}}</td>
      <td>申请产品</td>
      <td>{{orderInfo.loanApply.productName}}</td>
    </tr>
    <tr>
      <td>申请金额（万元）</td>
      <td>{{orderInfo.loanApply.amount}}</td>
      <td>申请期限（个月）</td>
      <td>{{orderInfo.loanApply.term}}</td>
    </tr>
    <tr>
      <td>还款方式</td>
      <td>{{orderInfo.loanApply.repayMethod}}</td>
    </tr>
  </nz-table>
</nz-card>
<nz-card class="card" [nzTitle]="'结果信息'">
  <div style="width: 1020px;">
    <div nz-row>
      <div nz-col nzSpan="24">
        <nz-form-item>
          <nz-form-label [nzSm]="3" [nzXs]="24" nzRequired>最终结果</nz-form-label>
          <nz-form-control [nzSm]="14" [nzXs]="24">
            <nz-radio-group [(ngModel)]="data.status">
              <label nz-radio nzValue="1">已终止</label>
              <label nz-radio nzValue="0">处理完成</label>
            </nz-radio-group>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row *ngIf="data.status=='1'">
      <div nz-col nzSpan="24">
        <nz-form-item>
          <nz-form-label [nzSm]="3" [nzMd]="3" [nzLg]="3" [nzXs]="24" nzRequired>终止原因</nz-form-label>
          <nz-form-control [nzSm]="14" [nzMd]="14" [nzLg]="14" [nzXs]="24">
            <textarea rows="4" nz-input [(ngModel)]="data.reason"></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row *ngIf="data.status=='0'">
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzMd]="6" [nzLg]="6" [nzXs]="24" nzRequired>批复金额</nz-form-label>
          <nz-form-control [nzSm]="14" [nzMd]="14" [nzLg]="14" [nzXs]="24">
            <nz-input-number style="width: 100%;" [(ngModel)]="data.approvalAmount" [nzMin]="1" [nzStep]="1">
            </nz-input-number>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzMd]="6" [nzLg]="6" [nzXs]="24" nzRequired>批复期限（月）</nz-form-label>
          <nz-form-control [nzSm]="14" [nzMd]="14" [nzLg]="14" [nzXs]="24">
            <nz-input-number style="width: 100%;" [(ngModel)]="data.approvalTerm" [nzMin]="1" [nzStep]="1">
            </nz-input-number>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzMd]="6" [nzLg]="6" [nzXs]="24" nzRequired>批复利率（%）</nz-form-label>
          <nz-form-control [nzSm]="14" [nzMd]="14" [nzLg]="14" [nzXs]="24">
            <nz-input-number style="width: 100%;" [(ngModel)]="data.loanRate" [nzMin]="1" [nzStep]="1">
            </nz-input-number>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzMd]="6" [nzLg]="6" [nzXs]="24" nzRequired>还款方式</nz-form-label>
          <nz-form-control [nzSm]="14" [nzMd]="14" [nzLg]="14" [nzXs]="24">
            <nz-select style="width: 100%;" [(ngModel)]="data.repayMethod">
              <nz-option [nzLabel]="item.name" [nzValue]="item.name" *ngFor="let item of applyRepayMethod"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzMd]="6" [nzLg]="6" [nzXs]="24" nzRequired>居间服务费</nz-form-label>
          <nz-form-control [nzSm]="14" [nzMd]="14" [nzLg]="14" [nzXs]="24">
            <nz-input-number style="width: 100%;" [(ngModel)]="data.serviceRate" [nzMin]="1" [nzStep]="1">
            </nz-input-number>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzMd]="6" [nzLg]="6" [nzXs]="24" nzRequired>合同编号</nz-form-label>
          <nz-form-control [nzSm]="14" [nzMd]="14" [nzLg]="14" [nzXs]="24">
            <input style="width: 100%;" nz-input placeholder="合同编号" [(ngModel)]="data.no" />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzSpan="12">
        <nz-form-item>
          <nz-form-label [nzSm]="6" [nzMd]="6" [nzLg]="6" [nzXs]="24" nzRequired>放款时间</nz-form-label>
          <nz-form-control [nzSm]="14" [nzMd]="14" [nzLg]="14" [nzXs]="24">
            <nz-date-picker style="width: 100%;" [nzStyle]="{'width': '100%'}" [nzShowToday]="false"
              [(ngModel)]="data.loanDate"></nz-date-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row nzType="flex" nzJustify="center">
      <button nz-button nzType="default" (click)="goBack()" class="m-r-20">返回</button>
      <button nz-button nzType="primary" [disabled]="data.cansubmit" (click)="submit()">提交</button>
    </div>
  </div>
</nz-card>
