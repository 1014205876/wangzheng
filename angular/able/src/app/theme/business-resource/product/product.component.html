<app-card class="authHide" [appResource]="{authName:'get/productGrid'}">
  <div class="col-sm-12 select-box">
    <div class="row m-b-10">
      <div class="col-6 col-md-3 input-box">
        <span>产品名称：</span>
        <input type="text" maxlength="20" placeholder="请输入产品名称" [(ngModel)]="items.name">
      </div>
      <div class="col-6 col-md-3 input-box">
        <span>产品编码：</span>
        <input type="text" maxlength="20" placeholder="请输入产品编码" [(ngModel)]="items.number">
      </div>
      <div class="col-6 col-md-3 input-box float-right search-btn">
        <span>&nbsp;</span>
        <button class="btn btn-primary ripple light" (click)="search(1,'search')"><i class="icofont icofont-search-alt-2"></i>查询</button>
        <button class="btn btn-primary btn-outline-primary ripple light" (click)="reset()"><i class="icofont icofont-close"></i>重置</button>
      </div>
    </div>
  </div>
</app-card>
<app-card [title]="'产品列表'">
  <div class="header-right authHide" [appResource]="{authName:'post/product'}" >
    <button class="btn btn-primary ripple light" routerLink="add"><i class="icofont icofont-ui-add"></i>创建产品</button>
  </div>
  <ngx-datatable
    class="data-table dt-chk"
    [rows]="rows"
    [columnMode]="'force'"
    [scrollbarH]="true"
    [headerHeight]="50"
    [rowHeight]="'auto'"
    [limit]="10">
    <ngx-datatable-column [sortable]="false" name="产品名称" prop="name"></ngx-datatable-column>
    <ngx-datatable-column [sortable]="false" name="产品编码" prop="number"></ngx-datatable-column>
    <ngx-datatable-column [sortable]="false" name="贷款期限范围" prop="term"></ngx-datatable-column>
    <ngx-datatable-column [sortable]="false" name="贷款金额范围" prop="amount"></ngx-datatable-column>
    <ngx-datatable-column [sortable]="false" name="综合费率范围" prop="rate"></ngx-datatable-column>
    <ngx-datatable-column [sortable]="false" name="状态" prop="status">
      <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
        <div class="switch authHide" [appResource]="{authName:'patch/product/status'}">
          <ui-switch class="js-single" color="#ecedf2" switchColor="#716aca" switchOffColor="#e0e2e9" size="medium" (click)="switchange(row)" [checked]="value=='1'"></ui-switch>
        </div>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column [sortable]="false" name="更新时间" prop="updateDate"></ngx-datatable-column>
    <ngx-datatable-column [sortable]="false" name="操作" prop="" >
      <ng-template ngx-datatable-cell-template let-row="row">
        <button class="btn authHide" [appResource]="{authName:'put/product'}" [routerLink]="['modify']" [queryParams]="{id: row.id}"><i class="icon iconfont icon-edit"></i>编辑</button>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
  <app-page-nav (getCurrentPage)="changePage($event)" [totalPage]='totalPage' [pageNum]='pageNum' [total]='total'></app-page-nav>
</app-card>
<ng2-toasty [position]="toast.position"></ng2-toasty>
