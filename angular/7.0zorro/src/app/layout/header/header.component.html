<nz-header class="header">
  <div class="logo">
    <!-- <img src="../../../assets/images/logo.png" alt=""> -->
  </div>
  <!-- 巅峰导航 -->
  <ul nz-menu [nzMode]="'horizontal'" class="nav-right">
    <li nz-menu-item *ngFor='let list of nav'>
      <a [href]='list.appAddress'>{{list.appName}}</a>
    </li>
  </ul>
  <ul class="user">
    <li class="infor">
      <nz-popover [(nzVisible)]="password.popoverShow" [nzTrigger]="'click'" [nzPlacement]="'bottomRight'">
        <div nz-popover>
          {{userInfor.name}}
        </div>
        <ng-template #nzTemplate style='box-shadow: 0 0 20px 0 rgba(0,0,0,.3);border-radius: 5px;cursor:pointer'>
          <div style='cursor:pointer' (click)="password.popoverShow=false;password.modalShow=true;">
            修改密码
          </div>
        </ng-template>
      </nz-popover>
      <nz-modal [(nzVisible)]="password.modalShow" [nzTitle]="'修改密码'" (nzOnCancel)="choiceCancel()" (nzOnOk)="choiceOk()"
        [nzOkLoading]="password.modalLoading">
        <form nz-form [formGroup]="resetPwd">
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="oldPassword">原密码</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input nz-input type="password" formControlName="oldPassword" id="oldPassword">
              <nz-form-explain *ngIf="resetPwd.get('oldPassword').dirty && resetPwd.get('oldPassword').errors">原密码不能为空!</nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="newPassword" nzRequired>新密码</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input nz-input type="password" id="newPassword" formControlName="newPassword" (ngModelChange)="updateConfirmValidator()">
              <nz-form-explain *ngIf="resetPwd.get('newPassword').dirty && resetPwd.get('newPassword').errors">新密码不能为空!</nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="checkPassword" nzRequired>确认密码</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24">
              <input nz-input type="password" formControlName="checkPassword" id="checkPassword">
              <nz-form-explain *ngIf="resetPwd.get('checkPassword').dirty && resetPwd.get('checkPassword').errors">
                <ng-container *ngIf="resetPwd.get('checkPassword').hasError('required')">
                  确认密码不能为空!
                </ng-container>
                <ng-container *ngIf="resetPwd.get('checkPassword').hasError('confirm')">
                  新密码和确认密码不能为空!
                </ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
        </form>
      </nz-modal>
    </li>
    <li class='logout'>
      <nz-popconfirm [nzTitle]="'是否注销系统？'" (nzOnConfirm)="logout()" (nzOnCancel)="cancel()">
        <span nz-popconfirm>注销登录</span>
      </nz-popconfirm>
    </li>
  </ul>
</nz-header>