<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			.box {
				margin: 0 auto;
				width: 800px;
				height: 640px;
				text-align: center;
				position: relative;
			}
			
			.prev {
				background: url(images/qrq-3d-spr.png) 0 0 no-repeat;
				width: 45px;
				height: 85px;
				position: absolute;
				left: 0;
				top: 277.5px;
			}
			
			.next {
				background: url(images/qrq-3d-spr.png) -45px 0 no-repeat;
				width: 45px;
				height: 85px;
				position: absolute;
				right: 0;
				top: 277.5px;
			}
		</style>
	</head>

	<body>
		<div class="box">
			<div class="prev"></div>
			<div class="next"></div>
			<img class="imgs" src="images/0.jpg" />
		</div>
		<script type="text/javascript">
			var box = document.querySelector('.box');
			var img = document.querySelector(".imgs");
			var prev = document.querySelector('.prev');
			var next = document.querySelector('.next');
			var i = 0;
			var timer = null;

			box.onmousedown = function(event) {
				var event = event || window.event;
				var startX = event.clientX; //鼠标点击时的初始位置
				document.onmousemove = function(event) {
					var event = event || window.event;
					var currentX = event.clientX;
					//var changeX=currentX-startX;
					if(currentX < startX) { //i++
						i++;
					} else if(currentX > startX) {
						i--;
					}
					showImg();
					startX = currentX; //记录鼠标的位置
				}
				document.onmouseup = function() {
					document.onmousemove = null;
					document.onmouseup = null;
				}
				return false;
			}

			prev.onmousedown = function() {
				clearInterval(timer);
				timer = setInterval(function() {
					i++;
					showImg();
				}, 100)
			}

			prev.onmouseup = function() {
				clearInterval(timer);
			}

			next.onmousedown = function() {
				clearInterval(timer);
				timer = setInterval(function() {
					i--;
					showImg();
				}, 100)
			}

			next.onmouseup = function() {
				clearInterval(timer);
			}

			document.onkeydown = function(event) {
				var event = event || window.event;
				switch(event.keyCode) {
					case 37:
						i--;
						break;
					case 39:
						i++;
						break;
				}
				showImg();
			}

			function showImg() {
				if(i < 0) {
					i = 23;
				}
				if(i > 23) {
					i = 0;
				}
				img.src = "images/" + i + ".jpg";
			}
			
		</script>
	</body>

</html>