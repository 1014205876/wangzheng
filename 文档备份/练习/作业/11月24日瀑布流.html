<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			* {
				margin: 0px;
				padding: 0px;
				list-style: none;
			}
			
			#box {
			}
			
			ul {
				float: left;
			}
			
			li {
				width: 100px;
				margin: 10px 5px;
			}
		</style>
	</head>

	<body>
		<div id="box">
			<ul id='a1'></ul>
			<ul id='a2'></ul>
			<ul id='a3'></ul>
		</div>
		<script>

			var b1 = document.getElementById('a1');
			var b2 = document.getElementById('a2');
			var b3 = document.getElementById('a3');
			var list=document.getElementsByTagName('ul');
			
			
			
			
			window.onscroll = function() 
			{
				var t=document.body.scrollTop||document.documentElement.scrollTop;
//				console.log(t);
//				console.log(list[1].offsetHeight);
//				var height1=t-
				if(t>list[1].offsetHeight*0.8)
				{
					creatli();
				}
				
			}
			
			creatli();
			creatli();
			creatli();
			creatli();
			function creatli()
			{
				for(var i=0;i<30;i++)
				{
					var li1 = document.createElement('li');
					var a=randFn(120,20);
					li1.innerHTML = i;
					li1.style.height = a + 'px';
					li1.style.backgroundColor = 'red';
					
					var heightArr=[];
					var minIndex=0;
					
					for(var j=0;j<list.length;j++)
					{
						heightArr.push(list[j].offsetHeight);
						var minHeight=heightArr[minIndex];
						
						if(minHeight>heightArr[j])
						{
//							minHeight=heightArr[j];
							minIndex=j;
						}
					}
					list[minIndex].appendChild(li1);
				}
			}

			function randFn(max,min)
			{
				var rand=parseInt(Math.random()*(max-min))+min;
				return rand;
			}

//			var i = -1;
//			window.onscroll = function() {
//				var c1 = b1.offsetHeight;
//				var c2 = b2.offsetHeight;
//				var c3 = b3.offsetHeight;
//				
//				i++;
//				var a=randFn(200,60);
//				var li1 = document.createElement('li');
//				li1.style.height = a + 'px';
//				li1.style.backgroundColor = 'red';
//				li1.innerHTML = i;
//
//				if(c1 > c2) {
//					if(c2 > c3) {
//						b3.appendChild(li1);
//					} else {
//						b2.appendChild(li1);
//					}
//				} else {
//					if(c1 > c3) {
//						b3.appendChild(li1);
//					} else {
//						b1.appendChild(li1);
//					}
//				}
//			}
		</script>
	</body>

</html>