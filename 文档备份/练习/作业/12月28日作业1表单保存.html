<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			th {
				text-align: right;
			}
			
			table {
				margin: 0px auto;
			}
			
			span {
				color: red;
				font-size: 12px;
			}
		</style>
	</head>

	<body>
		<table>
			<tr>
				<th>姓名： </th>
				<td><input type="text" class='text' /><span></span></td>
			</tr>
			<tr>
				<th>密码： </th>
				<td><input type="text" class='text' /><span></span></td>
			</tr>
			<tr>
				<th>手机号： </th>
				<td><input type="text" class='text' /><span></span></td>
			</tr>
			<tr>
				<th>身份证号： </th>
				<td><input type="text" class='text' /><span></span></td>
			</tr>
			<tr>
				<th>性别： </th>
				<td>
					<input type="radio" class='sex' name='sex' />男
					<input type="radio" class='sex' name='sex' />女
				</td>
			</tr>
			<tr>
				<th>兴趣标签： </th>
				<td>
					<input type="checkbox" class='like' name="like" />新闻
					<input type="checkbox" class='like' name="like" />娱乐
					<input type="checkbox" class='like' name="like" />文化
					<input type="checkbox" class='like' name="like" />体育
					<input type="checkbox" class='like' name="like" />财经
				</td>
			</tr>
			<tr>
				<th><input type="button" value='储存' class='btn' /></th>
				<td></td>
			</tr>
			<tr>
				<th><input type="button" value='复原' class='btn' /></th>
				<td></td>
			</tr>
			<tr>
				<th><input type="button" value='删除' class='btn' /></th>
				<td></td>
			</tr>
		</table>

		<script src='js/jquery-1.8.3.min.js'></script>
		<script>
			var texts = document.getElementsByClassName('text');
			var sexs = document.getElementsByClassName('sex');
			var likes = document.getElementsByClassName('like');
			var btns = document.getElementsByClassName('btn');
			var txtArr = ['姓名不能为空', '密码不能为空', '手机号不能为空', '身份证号不能为空']

			function saveFn() {

				//输入框的循环储存
				for(var i = 0; i < texts.length; i++) {
					if(texts[i].value) {
						window.localStorage.setItem('text' + i, texts[i].value);
						$('span').eq(i).text('');
					} else {
						$('span').eq(i).text(txtArr[i]);
					}
				}

				//单选框的循环储存
				for(var i = 0; i < sexs.length; i++) {
					if(sexs[i].checked) {
						window.localStorage.setItem('sex', i);
					}
				}

				//多选框的循环储存
				for(var i = 0; i < likes.length; i++) {
					if(likes[i].checked) {
						window.localStorage.setItem('like' + i, true);
					} else {
						window.localStorage.setItem('like' + i, false);
					}
				}
			}

			function findFn() {

				//输入框的循环调取
				for(var i = 0; i < texts.length; i++) {
					texts[i].value = localStorage.getItem('text' + i);
				}

				//单选框的调取
				if(localStorage.getItem('sex')) {
					sexs[localStorage.getItem('sex')].checked = true;
				} else {
					for(var i = 0; i < sexs.length; i++) {
						sexs[i].checked = false;
					}
				}

				//多选框的循环调取
				for(var i = 0; i < likes.length; i++) {
					if(window.localStorage.getItem('like' + i) == 'true') {
						likes[i].checked = true;
					}
					else{
						likes[i].checked=false;
					}
				}
			}

			function removeFn() {

				//输入框的循环删除
				//				window.localStorage.removeItem('text'+i);
				for(var i = 0; i < texts.length; i++) {
					window.localStorage.removeItem('text' + i);
				}
				//单选框的删除
				window.localStorage.removeItem('sex');
				//多选框的删除
				for(var i = 0; i < likes.length; i++){
					window.localStorage.removeItem('like' + i);
				}
			}

			btns[0].onclick = function() {
				saveFn();
			}
			btns[1].onclick = function() {
				findFn();
			}
			btns[2].onclick = function() {
				removeFn();
			}
		</script>
	</body>

</html>