<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			.btn_mod,
			.img_mod {
				width: 400px;
				margin: 20px auto 0;
				overflow: hidden;
			}
			
			.img_mod,
			.img_mod .scroll {
				height: 400px;
			}
			
			.img_mod {
				position: relative;
			}
			
			.img_mod .scroll {
				position: absolute;
				left: 0;
				right: 0;
				overflow: hidden;
			}
			
			.img_mod .scroll img {
				float: left;
				width: 400px;
				height: 400px;
			}
			
			.btn_mod {
				padding-left: 10px;
			}
			
			.btn_mod li,
			.btn_mod div {
				float: left;
				width: 60px;
				height: 30px;
				margin-right: 6px;
				line-height: 30px;
				text-align: center;
				font-weight: bold;
				font-size: 14px;
				color: #666;
				background: #ccc;
				cursor: pointer;
				outline: none;
			}
		</style>
	</head>

	<body style='text-align:center'>
			<div class="btn_mod">
				<div class="prev">上一页</div>
				<ul class="btn_list">
					<li class="active">1</li>
					<li>2</li>
					<li>3</li>
					<li>4</li>
				</ul>
				<div class="next">下一页</div>
			</div>
			<div class="img_mod">
				<div class="scroll">
					<img src="图片/作业图片/img01.jpg" />
					<img src="图片/作业图片/img02.jpg" />
					<img src="图片/作业图片/img03.jpg" />
					<img src="图片/作业图片/img04.jpg" />
				</div>
			</div>
	</body>
	<script type="text/javascript">
		imgScroll1();
		function imgScroll1() {
			var btnMod = document.querySelector(".btn_mod");
			var imgMod = document.querySelector(".img_mod");
			var scrollMod = imgMod.querySelector(".scroll");
			var imgs = imgMod.querySelectorAll(".img_mod img");
			var btns = document.querySelectorAll(".btn_list li");
			var width = imgMod.offsetWidth;
			var maxLength = imgs.length;
			var activeIndex = 0;
			var timer = null;
			var scrollTimer = null;
			
			init();
			function init() {
				scrollMod.style.width = width * imgs.length + "px";
				bind();
				autoSwitch();
			}

			function autoSwitch() {
				timer = setInterval(function() {
					nextFn();
				}, 2000);
			}

			function clear() {
				clearTimeout(timer);
				timer = null;
			}

			function nextFn() {
				var index = activeIndex + 1;
				index = index > maxLength - 1 ? 0 : index;
				switchTo(index);
			}

			function prevFn() {
				var index = activeIndex - 1;
				index = index < 0 ? maxLength - 1 : index;
				switchTo(index);
			}

			function switchTo(index) {
				var start = scrollMod.offsetLeft;
				var end = -index * width;
				var change = end - start;

				clearInterval(scrollTimer);
				var scrollTimer = setInterval(function() {
					if(change < 0) {
						start -= 20;
						if(start <= end) {
							clearInterval(scrollTimer);
							scrollTimer = null;
						}
					} else {
						start += 20;
						if(start >= end) {
							clearInterval(scrollTimer);
							scrollTimer = null;
						}
					}

					scrollMod.style.left = start + 'px';
				}, 10);
				activeIndex = index;
//				for(var i = 0; i < btns.length; i++) {
//					btns[i].className = "";
//				}
//				btns[index].className = "active";
			}

			function bind() {
				var next = document.querySelector(".next");
				var prev = document.querySelector(".prev");

				next.onclick = function() {
					nextFn();
				}
				prev.onclick = function() {
					prevFn();
				}

				for(var i = 0; i < btns.length; i++) {
					(function(i) {
						btns[i].onclick = function() {
							switchTo(i);
						}
					})(i);
				}

				btnMod.onmouseover = function() {
					clear();
				}
				btnMod.onmouseout = function() {
					autoSwitch();
				}
				imgMod.onmouseover = function() {
					clear();
				}
				imgMod.onmouseout = function() {
					autoSwitch();
				}
			}
		}
	</script>
</html>