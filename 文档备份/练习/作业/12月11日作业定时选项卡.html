<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			#box2 {
				position: relative;
			}
			
			.box {
				width: 200px;
				height: 200px;
				position: absolute;
				border: 1px black solid;
			}
			
			#btn {
				position: absolute;
				top: 240px;
			}
		</style>
	</head>

	<body>
		<div style='width:240px;height:320px;position: relative;margin:0px auto'>
			<div id='box1'>
				<input type="button" value='1' />
				<input type="button" value='2' />
				<input type="button" value='3' />
				<input type="button" value='4' />
				<input type="button" value='5' />
				<input type="button" value='6' />
			</div>
			<div id="box2">
				<div class="box"></div>
				<div class="box"></div>
				<div class="box"></div>
				<div class="box"></div>
				<div class="box"></div>
				<div class="box"></div>
			</div>
			<input type="button" id="btn" value="开始" />
		</div>
		<script>
			var box1 = document.getElementById('box1');
			var inp = box1.getElementsByTagName('input');
			var box = document.getElementsByClassName('box');
			var btn = document.getElementById('btn');
			var arrcolor = ['red', 'orange', 'yellow', 'green', 'blue', 'darkmagenta'];
			var iBtn = true;
			var iBtn2 = true;
			var index = -1;
			var time1 = null;

			//给每个按钮添加点击事件
			for(var i = 0; i < inp.length; i++) {
				dianji(i);
			}

			//点击按钮时触发切换函数
			function dianji(i) {
				inp[i].onclick = function() {
					iBtn2 = false;
					stop1();
					mover1(i);
				}
			}

			//3个div的显示与隐藏切换
			function mover1(i) {
				for(var k = 0; k < inp.length; k++) {
					inp[k].style.backgroundColor = '';
				}
				inp[i].style.backgroundColor = arrcolor[i];
				for(var j = 0; j < box.length; j++) {
					box[j].style.display = 'none';
				}
				box[i].style.display = 'block';
				box[i].style.backgroundColor = arrcolor[i];
				index = i;
			}

			//开始按钮与结束按钮
			btn.onclick = function() {
				if(iBtn) {
					start1();
				} else {
					stop1();
				}
			}

			//定时器开始
			function start1() {
				btn.value = '结束'
				iBtn = false;
				time1 = setInterval(function() {
					index++;
					if(index >= 6) {
						index = 0;
					}
					mover1(index);
				}, 1000)
			}

			//定时器结束
			function stop1() {
				btn.value = '开始'
				iBtn = true;
				clearInterval(time1);
			}

			//延迟开始
			setTimeout(function() {
				if(iBtn && iBtn2) {
					start1();
				}
			}, 2000)
		</script>
	</body>

</html>