<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>导航滚动</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			
			.nav {
				height:50px;
				position: relative;
				text-align: center;
				margin: 0 auto;
			}
			
			li {
				float: left;
				width: 80px;
			}
			
			ul {
				text-align: center;
			}
			
			.slider {
				width: 80px;
				height: 10px;
				background-color: red;
				position: absolute;
				top: 20px;
				left: 0px;
			}
		</style>
	</head>

	<body>
		<div class='nav'>
			<ul>
				<li>按钮1</li>
				<li>按钮2</li>
				<li>按钮3</li>
				<li>按钮4</li>
				<li>按钮5</li>
			</ul>
			<div class='slider'></div>
		</div>
		<div class='nav'>
			<ul>
				<li>按钮1</li>
				<li>按钮2</li>
				<li>按钮3</li>
				<li>按钮4</li>
				<li>按钮5</li>
			</ul>
			<div class='slider'></div>
		</div>
		<div class='nav'>
			<ul>
				<li>按钮1</li>
				<li>按钮2</li>
				<li>按钮3</li>
				<li>按钮4</li>
				<li>按钮5</li>
			</ul>
			<div class='slider'></div>
		</div>
		<script>
			
			
			
			navFn(1);
			navFn(2);
			navFn(3);
			function navFn(j){
			
			
			var navlist = document.querySelectorAll('.nav:nth-child('+j+') ul li');
			var slider = document.querySelector('.nav:nth-child('+j+') .slider');
			var navTimer = null;
			var activeIndex = 0;
			var iBtn=true;
			
			
			
			bind();
			function bind() {
				for(var i = 0; i < navlist.length; i++) {
					navlist[i].onmouseover = (function(index) {
						return function() {
							selected(index);
						}
					}(i))
				}
			}

			function selected(theindex) {
				activeIndex = theindex;
				var start = slider.offsetLeft;
				var end = activeIndex * 80;
				clearInterval(navTimer);
				navTimer = setInterval(function() {
					if(end == start) {
						clearInterval(navTimer);
						navTime = null
					} else {
						if(end < start) {
							start -= 5;
						} else {
							start += 5;
						}
					}
					slider.style.left = start + 'px';
				}, 50)
			}
			
//			auto();
			function auto()
			{
				setInterval(function()
				{
					if(iBtn)
					{
						activeIndex++;
					}
					else
					{
						activeIndex--;
					}
					if(activeIndex>=4)
					{
						iBtn=false;
					}
					if(activeIndex<=0)
					{
						iBtn=true;
					}
					selected(activeIndex)
				},1000)
			}
			}
			
			function currentFn()
			{
				var nav=document.querySelector('.nav')
			}
		</script>
	</body>

</html>