<!DOCTYPE html PUBLIC>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title></title>
		<style>
			div{
				width: 150px;
				border:1px red solid;
				font-size: 30px;
				text-align: center;
				margin:100px auto;
				padding:20px;
			}
			p{
				font-size: 12px;
			}
			p img{
				width:150px;
			}
		</style>
	</head>

	<body>
		<div>
			<span>请放入图片</span>
			<p></p>
		</div>
		
		<script type="text/javascript">
				var oDiv=document.getElementsByTagName("div")[0];
				var oSpan=document.getElementsByTagName("span")[0];
				var oP=document.getElementsByTagName("p")[0];
				
				
				oDiv.ondragenter=function(){
					oSpan.innerHTML="可放入";
				}
				oDiv.ondragleave=function(){
					oSpan.innerHTML="请放入图片";
				}
				oDiv.ondragover=function(ev){
					ev.preventDefault();
				}
				oDiv.ondrop=function(ev){
					var fileList = ev.dataTransfer.files; //获取文件对象 
			        //检测是否是拖拽文件到页面的操作 
			        if(fileList.length == 0){ 
			            return false; 
			        } 
			        //检测文件是不是图片 
			        if(fileList[0].type.indexOf('image') === -1){ 
			            alert("您放入的不是图片！"); 
						oSpan.innerHTML="请放入图片";
			            return false; 
			        } 
					oSpan.innerHTML="放入完成";
					
					
					//拖拉图片到浏览器，可以实现预览功能 
			        var img = window.webkitURL.createObjectURL(fileList[0]); //获取图片对象 
			        var filename = fileList[0].name; //图片名称 
			        var filesize = Math.floor((fileList[0].size)/1024);  //图片大小
			        if(filesize>500){ 
			            alert("上传大小不能超过500K."); 
			            return false; 
			        } 
			        var str = "<img src='"+img+"'><p>图片名称："+filename+"</p><p>大小："+filesize+"KB</p>"; 
			        oP.innerHTML=str; 
			        return false; 
				}
		</script>
	</body>

</html>