<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			* {
				margin: 0;
				padding: 0;
				font-family: simsun;
			}
			
			#wrap {
				width: 420px;
				margin: 0 auto;
				position: relative;
				min-height: 540px;
				max-height: 640px;
				border: 1px #ccc solid;
				border-radius: 5px;
				background: #dcdee0;
			}
			
			#time {
				position: absolute;
				left: 20px;
				top: 20px;
				font-size: 30px;
			}
			
			#scoring {
				position: absolute;
				top: 20px;
				right: 20px;
				font-size: 30px;
			}
			
			#show {
				font-size: 10em;
				top: 90px;
				left: 126px;
				position: absolute;
			}
			
			#menu {
				padding: 40px 30px;
				font-size: 30px;
				top: 250px;
				position: absolute;
			}
			
			#list {
				position: absolute;
				left: 10px;
				bottom: 20px;
				list-style: none;
			}
			
			#list li {
				float: left;
				font-size: 5em;
			}
		</style>
	</head>

	<body>
		<div id="wrap">
			<div id="time">剩余时间：10</div>
			<div id="scoring">完成：0</div>
			<div id="show">红</div>
			<div id="menu">根据上面的字的颜色从下面选择正确的字，选择正确自动开始</div>
			<ul id="list">
				<li>绿</li>
				<li>蓝</li>
				<li>黑</li>
				<li>黄</li>
				<li>红</li>
			</ul>
		</div>

		<script type="text/javascript">
			var show = document.getElementById("show");
			//利用类名或者id或其他其他选择器获取元素的方法
			var lis = document.getElementsByTagName("li");
			var menu = document.getElementById("menu");
			var time = document.getElementById("time");
			var scoring = document.getElementById("scoring");
			var colors = ['red', 'green', 'blue', 'yellow', 'black'];
			var fonts = ["红", "绿", "蓝", "黄", "黑"];

			var timeBol = false; //时间开关

			var num = 0; //计分

			var count = 10; //剩余时间

			var clickBol = true; //点击开关

			//游戏结束
//			function gameOver() {
//				if(num < 3) {
//					alert('太低了')
//				} else {
//					alert('太高了')
//				}

//			}

			//获取随机数
			function randFn(max) {
				var rand = parseInt(Math.random() * max);
				return rand;
			}

			//设置“题目”的文字和颜色
			showRand();
			function showRand() {
				colorIndex = randFn(5); //代表随机的色值的索引，全局变量，为点击的时候比较		

				var fontIndex = randFn(5); //代表随机的汉字的索引

				show.style.color = colors[colorIndex];
				show.innerHTML = fonts[fontIndex];
			}

			//设置“选项”的文字与色值
			liRand();
			function liRand() {
				var colorArr = compare(); //代表5个小字的色值的索引的数组   [4, 3, 2, 0, 1]
				var fontArr = compare(); //代表5个小字的汉字的索引的数组
				//[0,2,3,4,1]
				for(var i = 0; i < colorArr.length; i++) {
					lis[i].style.color = colors[colorArr[i]];
					lis[i].innerHTML = fonts[fontArr[i]];

					lis[i].x = fontArr[i];
					//给每个li定义一个属性（汉字索引）用于同题目文字的色值索引比较，从而得知选择正误

				}
			}

			//定义设置“选项”的随机数组
			function compare() {
				var arr = [];
				while(arr.length < 5) {
					var rand = randFn(5); //获取到一个随机数
					
					
					if(arr.indexOf(rand)==-1)
					{
						arr.push(rand);
					}
					else
					{
						continue;
					}
//					var iBtn = true;
//					for(var i = 0; i < arr.length; i++) {
//						if(arr[i] == rand) //说明有重复
//						{
//							iBtn = false;
//							break;
//						}
//					};
//					if(iBtn) {
//						arr.push(rand);
//					}

				}

				return arr;

			}

			//定时器
			var timer = setInterval(function() {
				if(timeBol) {
					count--;
					time.innerHTML = "剩余时间：" + count;
					if(count <= 0) {
//						gameOver();
						clearInterval(timer);
						clickBol = false;
					}

				}
			}, 1000)

			//开始选择
			for(var i = 0; i < lis.length; i++) 
			{
				lis[i].onclick = function()
				{
					if(this.x == colorIndex && clickBol) //是否选对？
					{
						num++;
						scoring.innerHTML = "完成:" + num;
						liRand();
						showRand();
						timeBol = true;

					}
					else
					{
						alert('错误');
					}
				}
			}

			//初始化
//			function init() {
//				showRand(); //调用设置题目的函数
//				liRand(); //调用设置选项的函数		
//			}
//
//			init();

			//思路：
			//第一步:		定义变量及获取元素,注意:设置两个数组,分别是色值,及颜色的文字,应该一一对应,日后好判断,选择的是否正确.
			//第二步:初始化

			//第三步:设置题目大字的文字与颜色,获取随机数函数
			//第四步:设置选项文字与颜色，定义设置“选项”的随机数组
			//第五步:为每一个选项添加绑定事件,设置定时器,重新设置选项文字与字色,重新设置题目文字与字色.
		</script>
	</body>

</html>