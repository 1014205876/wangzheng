<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body {
				background: #000000;
			}
			
			canvas {
				background: #ffffff;
			}
		</style>
	</head>

	<body>
		<canvas id="a" width="500" height="500"></canvas>
		<script>
			var a = document.getElementById('a');
			var b = a.getContext('2d');
			var x1;
			var y1;
			var x2;
			var y2;
			a.onmousedown = function(event) {
				var event = event || window.event;
				x2 = event.clientX-a.offsetLeft;
				y2 = event.clientY-a.offsetTop;
				b.moveTo(x2, y2);
				move();
				
//				b.beginPath();
//				b.moveTo(50, 50);
//				b.lineTo(250, 50);
//				b.lineWidth=10;
//				b.closePath();
//				b.lineCap='square';
//				b.lineCap='round';
//				b.stroke();
			}
			a.onmouseup = function() {
				a.onmousemove=null;
			}

			function move() {
				a.onmousemove = function(event) {
					var event = event || window.event;
					x1 = event.clientX-a.offsetLeft;
					y1 = event.clientY-a.offsetTop;
					b.lineTo(x1, y1);
					x2 = x1;
					y2 = y1;
					b.stroke();
					b.lineCap='square';
//					b.lineCap='round';
					b.lineWidth=30;
				}
			}
		</script>
	</body>

</html>